{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\David\\\\Desktop\\\\Websites\\\\stocks\\\\frontend\\\\src\\\\pages\\\\StockDetailPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext, Suspense, lazy } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Grid, Typography, Box, Button, Alert, Link, CircularProgress } from '@mui/material';\nimport { AuthContext } from '../context/AuthContext';\n\n// Lazy load components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StockHighlights = /*#__PURE__*/lazy(_c = () => import('../components/stockpage/StockHighlights'));\n_c2 = StockHighlights;\nconst MyNotesDrawer = /*#__PURE__*/lazy(_c3 = () => import('../components/stockpage/MyNotes'));\n_c4 = MyNotesDrawer;\nconst AnalystRatingsBarChart = /*#__PURE__*/lazy(_c5 = () => import('../components/stockpage/AnalystRatingsBarChart'));\n_c6 = AnalystRatingsBarChart;\nconst AnalystOverallRating = /*#__PURE__*/lazy(_c7 = () => import('../components/stockpage/AnalystOverallRating'));\n_c8 = AnalystOverallRating;\nconst CagrChart = /*#__PURE__*/lazy(_c9 = () => import('../components/stockpage/CagrChart'));\n_c10 = CagrChart;\nconst CagrPercent = /*#__PURE__*/lazy(_c11 = () => import('../components/stockpage/CagrPercents'));\n_c12 = CagrPercent;\nconst BasicStats = /*#__PURE__*/lazy(_c13 = () => import('../components/stockpage/BasicStats'));\n_c14 = BasicStats;\nconst FinancialsTable = /*#__PURE__*/lazy(_c15 = () => import('../components/stockpage/IncomeStatements'));\n_c16 = FinancialsTable;\nconst BalanceSheets = /*#__PURE__*/lazy(_c17 = () => import('../components/stockpage/BalanceSheet'));\n_c18 = BalanceSheets;\nconst CashFlows = /*#__PURE__*/lazy(_c19 = () => import('../components/stockpage/Cashflow'));\n_c20 = CashFlows;\nconst ValuationTable = /*#__PURE__*/lazy(_c21 = () => import('../components/stockpage/ValuationTable'));\n_c22 = ValuationTable;\nconst TechnicalsTable = /*#__PURE__*/lazy(_c23 = () => import('../components/stockpage/TechnicalTable'));\n_c24 = TechnicalsTable;\nconst SplitsDividendsTable = /*#__PURE__*/lazy(_c25 = () => import('../components/stockpage/SplitsDividendsTable'));\n_c26 = SplitsDividendsTable;\nconst TradingViewWidget = /*#__PURE__*/lazy(_c27 = () => import('../components/stockpage/TradingViewWidget'));\n_c28 = TradingViewWidget;\nconst MarginTable = /*#__PURE__*/lazy(_c29 = () => import('../components/stockpage/MarginTable'));\n_c30 = MarginTable;\nconst Description = /*#__PURE__*/lazy(_c31 = () => import('../components/stockpage/Description'));\n_c32 = Description;\nconst DividendYieldChart = /*#__PURE__*/lazy(_c33 = () => import('../components/stockpage/DividendYieldChart'));\n_c34 = DividendYieldChart;\nconst StockDetail = () => {\n  _s();\n  const {\n    primary_ticker\n  } = useParams();\n  const [stockData, setStockData] = useState(null);\n  const [loadingStockData, setLoadingStockData] = useState(true); // Loading state for stockData\n  const [tradingViewSymbol, setTradingViewSymbol] = useState('');\n  const [loadingTradingViewSymbol, setLoadingTradingViewSymbol] = useState(true); // Loading state for tradingViewSymbol\n  const [myNotesOpen, setMyNotesOpen] = useState(false);\n  const {\n    isAuthenticated\n  } = useContext(AuthContext);\n  const [isFollowing, setIsFollowing] = useState(false);\n  const [loadingIsFollowing, setLoadingIsFollowing] = useState(true); // Loading state for isFollowing\n  const [showLoginAlert, setShowLoginAlert] = useState(false);\n  const isLoadingInitialData = loadingStockData || loadingTradingViewSymbol || isAuthenticated && loadingIsFollowing;\n  const stockPriceCagr = stockData && stockData.stock_prices && stockData.stock_prices.length > 0 ? stockData.stock_prices[0].cagr_5_years : null;\n  const dividendYieldCagr = stockData && stockData.dividend_yield_data ? stockData.dividend_yield_data.cagr_5_years : null;\n  useEffect(() => {\n    const formattedTicker = primary_ticker.replace('-', '.');\n    const fetchStockData = async () => {\n      try {\n        const response = await fetch(`https://django-stocks-ecbc6bc5e208.herokuapp.com/api/stocks/${formattedTicker}/`, {\n          headers: {\n            'Authorization': `Token 13502af70a55d1fcddf7c094e4418c65904ef6eb`\n          }\n        });\n        if (!response.ok) throw new Error('Failed to fetch stock data');\n        const data = await response.json();\n        setStockData(data);\n        setTradingViewSymbol(`${data.exchange}:${data.code}`);\n        setLoadingStockData(false);\n        setLoadingTradingViewSymbol(false);\n      } catch (error) {\n        console.error('Error fetching stock data:', error);\n        setLoadingStockData(false); // ensure loading state is updated even on error\n        setLoadingTradingViewSymbol(false); // ensure loading state is updated even on error\n      }\n    };\n    const fetchFollowingStatus = async () => {\n      try {\n        const response = await fetch(`https://django-stocks-ecbc6bc5e208.herokuapp.com/api/stocks/${formattedTicker}/`, {\n          headers: {\n            'Authorization': `Token 13502af70a55d1fcddf7c094e4418c65904ef6eb`\n          }\n        });\n        if (!response.ok) throw new Error('Failed to fetch following status');\n        const result = await response.json();\n        setIsFollowing(result.is_following);\n        setLoadingIsFollowing(false);\n      } catch (error) {\n        console.error('Error fetching following status:', error);\n        setLoadingIsFollowing(false); // ensure loading state is updated even on error\n      }\n    };\n    fetchStockData();\n    if (isAuthenticated) {\n      fetchFollowingStatus();\n    } else {\n      setLoadingIsFollowing(false); // If not authenticated, there's no need to fetch following status\n    }\n  }, [primary_ticker, isAuthenticated]);\n  const handleFollowClick = async () => {\n    if (!isAuthenticated) {\n      setShowLoginAlert(true);\n      return;\n    }\n    const formattedTicker = primary_ticker.replace('-', '.');\n    try {\n      const response = await fetch(`https://django-stocks-ecbc6bc5e208.herokuapp.com/api/stocks/${formattedTicker}/toggle_follow/`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Token 13502af70a55d1fcddf7c094e4418c65904ef6eb`\n        }\n      });\n      const data = await response.json();\n      if (data.status === \"ok\") {\n        setIsFollowing(data.action === \"followed\");\n      } else {\n        console.error('Error:', data);\n      }\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  };\n  const handleMyNotesClick = () => {\n    if (!isAuthenticated) {\n      setShowLoginAlert(true);\n    } else {\n      setMyNotesOpen(true);\n    }\n  };\n\n  // Conditional rendering based on the loading states\n  if (isLoadingInitialData) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Suspense, {\n    fallback: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        mt: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 88\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 25\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      sx: {\n        p: 3\n      },\n      children: [showLoginAlert && /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sx: {\n          p: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"warning\",\n          onClose: () => setShowLoginAlert(false),\n          children: [\"Please \", /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/login\",\n            children: \"log in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 22\n          }, this), \" to access this.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        alignItems: \"center\",\n        className: \"stock-follow\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h4\",\n            className: \"stockname\",\n            children: [stockData.name, \" Fundamental Analysis\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4,\n          sm: 6,\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            className: \"follow-button\",\n            onClick: handleMyNotesClick,\n            children: \"My Notes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MyNotesDrawer, {\n            open: myNotesOpen,\n            onClose: () => setMyNotesOpen(false),\n            stockId: primary_ticker,\n            stockData: stockData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), !loadingTradingViewSymbol && tradingViewSymbol && /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 7,\n        xs: 12,\n        className: \"chart-container\",\n        children: /*#__PURE__*/_jsxDEV(TradingViewWidget, {\n          symbol: tradingViewSymbol\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }, this), !loadingStockData && stockData && /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 5,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(StockHighlights, {\n          general: stockData,\n          highlights: stockData.highlights\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        item: true,\n        xs: 12,\n        spacing: 3,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(BasicStats, {\n            data: stockData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        item: true,\n        xs: 12,\n        spacing: 3,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Description, {\n            text: stockData.general_description.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        item: true,\n        md: 12,\n        xs: 12,\n        spacing: 3,\n        sx: {\n          mt: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 5,\n          xs: 12,\n          children: [stockData.income_statements && /*#__PURE__*/_jsxDEV(CagrChart, {\n            incomeStatements: stockData.income_statements\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 35\n          }, this), stockData.dividend_yield_data && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '20px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 37\n          }, this), stockData.dividend_yield_data && /*#__PURE__*/_jsxDEV(DividendYieldChart, {\n            dividendYieldData: stockData.dividend_yield_data\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 3,\n          xs: 12,\n          children: stockData.general_cagr && /*#__PURE__*/_jsxDEV(CagrPercent, {\n            cagrData: stockData.general_cagr,\n            stockPriceCagr: stockPriceCagr,\n            dividendYieldCagr: dividendYieldCagr\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 4,\n          xs: 12,\n          children: [/*#__PURE__*/_jsxDEV(AnalystOverallRating, {\n            ratings: stockData.analyst_ratings\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AnalystRatingsBarChart, {\n            ratings: stockData.analyst_ratings\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        item: true,\n        md: 12,\n        xs: 12,\n        spacing: 3,\n        sx: {\n          mt: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 3,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(MarginTable, {\n            general: stockData,\n            highlights: stockData.highlights\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 3,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(ValuationTable, {\n            general: stockData,\n            valuationData: stockData.valuation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 3,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(TechnicalsTable, {\n            technicalsData: stockData.technicals\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 3,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(SplitsDividendsTable, {\n            general: stockData,\n            splitsDividendsData: stockData.splits_dividends\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        item: true,\n        md: 12,\n        xs: 12,\n        spacing: 3,\n        sx: {\n          mt: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(FinancialsTable, {\n            incomeStatements: stockData.income_statements\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(BalanceSheets, {\n            balanceSheets: stockData.balance_sheets\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(CashFlows, {\n            cashFlows: stockData.cash_flows\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 5\n  }, this);\n};\n_s(StockDetail, \"Kzby65NEBA6AG7phDgec1GTFSjM=\", false, function () {\n  return [useParams];\n});\n_c35 = StockDetail;\nexport default StockDetail;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26, _c27, _c28, _c29, _c30, _c31, _c32, _c33, _c34, _c35;\n$RefreshReg$(_c, \"StockHighlights$lazy\");\n$RefreshReg$(_c2, \"StockHighlights\");\n$RefreshReg$(_c3, \"MyNotesDrawer$lazy\");\n$RefreshReg$(_c4, \"MyNotesDrawer\");\n$RefreshReg$(_c5, \"AnalystRatingsBarChart$lazy\");\n$RefreshReg$(_c6, \"AnalystRatingsBarChart\");\n$RefreshReg$(_c7, \"AnalystOverallRating$lazy\");\n$RefreshReg$(_c8, \"AnalystOverallRating\");\n$RefreshReg$(_c9, \"CagrChart$lazy\");\n$RefreshReg$(_c10, \"CagrChart\");\n$RefreshReg$(_c11, \"CagrPercent$lazy\");\n$RefreshReg$(_c12, \"CagrPercent\");\n$RefreshReg$(_c13, \"BasicStats$lazy\");\n$RefreshReg$(_c14, \"BasicStats\");\n$RefreshReg$(_c15, \"FinancialsTable$lazy\");\n$RefreshReg$(_c16, \"FinancialsTable\");\n$RefreshReg$(_c17, \"BalanceSheets$lazy\");\n$RefreshReg$(_c18, \"BalanceSheets\");\n$RefreshReg$(_c19, \"CashFlows$lazy\");\n$RefreshReg$(_c20, \"CashFlows\");\n$RefreshReg$(_c21, \"ValuationTable$lazy\");\n$RefreshReg$(_c22, \"ValuationTable\");\n$RefreshReg$(_c23, \"TechnicalsTable$lazy\");\n$RefreshReg$(_c24, \"TechnicalsTable\");\n$RefreshReg$(_c25, \"SplitsDividendsTable$lazy\");\n$RefreshReg$(_c26, \"SplitsDividendsTable\");\n$RefreshReg$(_c27, \"TradingViewWidget$lazy\");\n$RefreshReg$(_c28, \"TradingViewWidget\");\n$RefreshReg$(_c29, \"MarginTable$lazy\");\n$RefreshReg$(_c30, \"MarginTable\");\n$RefreshReg$(_c31, \"Description$lazy\");\n$RefreshReg$(_c32, \"Description\");\n$RefreshReg$(_c33, \"DividendYieldChart$lazy\");\n$RefreshReg$(_c34, \"DividendYieldChart\");\n$RefreshReg$(_c35, \"StockDetail\");","map":{"version":3,"names":["React","useEffect","useState","useContext","Suspense","lazy","useParams","Grid","Typography","Box","Button","Alert","Link","CircularProgress","AuthContext","jsxDEV","_jsxDEV","StockHighlights","_c","_c2","MyNotesDrawer","_c3","_c4","AnalystRatingsBarChart","_c5","_c6","AnalystOverallRating","_c7","_c8","CagrChart","_c9","_c10","CagrPercent","_c11","_c12","BasicStats","_c13","_c14","FinancialsTable","_c15","_c16","BalanceSheets","_c17","_c18","CashFlows","_c19","_c20","ValuationTable","_c21","_c22","TechnicalsTable","_c23","_c24","SplitsDividendsTable","_c25","_c26","TradingViewWidget","_c27","_c28","MarginTable","_c29","_c30","Description","_c31","_c32","DividendYieldChart","_c33","_c34","StockDetail","_s","primary_ticker","stockData","setStockData","loadingStockData","setLoadingStockData","tradingViewSymbol","setTradingViewSymbol","loadingTradingViewSymbol","setLoadingTradingViewSymbol","myNotesOpen","setMyNotesOpen","isAuthenticated","isFollowing","setIsFollowing","loadingIsFollowing","setLoadingIsFollowing","showLoginAlert","setShowLoginAlert","isLoadingInitialData","stockPriceCagr","stock_prices","length","cagr_5_years","dividendYieldCagr","dividend_yield_data","formattedTicker","replace","fetchStockData","response","fetch","headers","ok","Error","data","json","exchange","code","error","console","fetchFollowingStatus","result","is_following","handleFollowClick","method","status","action","handleMyNotesClick","sx","display","justifyContent","alignItems","height","children","fileName","_jsxFileName","lineNumber","columnNumber","fallback","mt","container","spacing","p","item","xs","severity","onClose","href","className","sm","variant","name","onClick","open","stockId","md","symbol","general","highlights","text","general_description","income_statements","incomeStatements","style","marginTop","dividendYieldData","general_cagr","cagrData","ratings","analyst_ratings","valuationData","valuation","technicalsData","technicals","splitsDividendsData","splits_dividends","balanceSheets","balance_sheets","cashFlows","cash_flows","_c35","$RefreshReg$"],"sources":["C:/Users/David/Desktop/Websites/stocks/frontend/src/pages/StockDetailPage.js"],"sourcesContent":["import React, { useEffect, useState, useContext, Suspense, lazy } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport {\r\n  Grid,\r\n  Typography,\r\n  Box,\r\n  Button,\r\n  Alert,\r\n  Link,\r\n  CircularProgress,\r\n} from '@mui/material';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\n// Lazy load components\r\nconst StockHighlights = lazy(() => import('../components/stockpage/StockHighlights'));\r\nconst MyNotesDrawer = lazy(() => import('../components/stockpage/MyNotes'));\r\nconst AnalystRatingsBarChart = lazy(() => import('../components/stockpage/AnalystRatingsBarChart'));\r\nconst AnalystOverallRating = lazy(() => import('../components/stockpage/AnalystOverallRating'));\r\nconst CagrChart = lazy(() => import('../components/stockpage/CagrChart'));\r\nconst CagrPercent = lazy(() => import('../components/stockpage/CagrPercents'));\r\nconst BasicStats = lazy(() => import('../components/stockpage/BasicStats'));\r\nconst FinancialsTable = lazy(() => import('../components/stockpage/IncomeStatements'));\r\nconst BalanceSheets = lazy(() => import('../components/stockpage/BalanceSheet'));\r\nconst CashFlows = lazy(() => import('../components/stockpage/Cashflow'));\r\nconst ValuationTable = lazy(() => import('../components/stockpage/ValuationTable'));\r\nconst TechnicalsTable = lazy(() => import('../components/stockpage/TechnicalTable'));\r\nconst SplitsDividendsTable = lazy(() => import('../components/stockpage/SplitsDividendsTable'));\r\nconst TradingViewWidget = lazy(() => import('../components/stockpage/TradingViewWidget'));\r\nconst MarginTable = lazy(() => import('../components/stockpage/MarginTable'));\r\nconst Description = lazy(() => import('../components/stockpage/Description'));\r\nconst DividendYieldChart = lazy(() => import('../components/stockpage/DividendYieldChart'));\r\n\r\n\r\nconst StockDetail = () => {\r\n  const { primary_ticker } = useParams();\r\n  const [stockData, setStockData] = useState(null);\r\n  const [loadingStockData, setLoadingStockData] = useState(true);  // Loading state for stockData\r\n  const [tradingViewSymbol, setTradingViewSymbol] = useState('');\r\n  const [loadingTradingViewSymbol, setLoadingTradingViewSymbol] = useState(true);  // Loading state for tradingViewSymbol\r\n  const [myNotesOpen, setMyNotesOpen] = useState(false);\r\n  const { isAuthenticated } = useContext(AuthContext);\r\n  const [isFollowing, setIsFollowing] = useState(false);\r\n  const [loadingIsFollowing, setLoadingIsFollowing] = useState(true);  // Loading state for isFollowing\r\n  const [showLoginAlert, setShowLoginAlert] = useState(false);\r\n  const isLoadingInitialData = loadingStockData || loadingTradingViewSymbol || (isAuthenticated && loadingIsFollowing);\r\n  const stockPriceCagr = stockData && stockData.stock_prices && stockData.stock_prices.length > 0 ? stockData.stock_prices[0].cagr_5_years : null;\r\n  const dividendYieldCagr = stockData && stockData.dividend_yield_data ? stockData.dividend_yield_data.cagr_5_years : null;\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    const formattedTicker = primary_ticker.replace('-', '.');\r\n    \r\n    const fetchStockData = async () => {\r\n      try {\r\n        const response = await fetch(`https://django-stocks-ecbc6bc5e208.herokuapp.com/api/stocks/${formattedTicker}/`, {\r\n          headers: {\r\n            'Authorization': `Token 13502af70a55d1fcddf7c094e4418c65904ef6eb`,\r\n          },\r\n        });\r\n        if (!response.ok) throw new Error('Failed to fetch stock data');\r\n        const data = await response.json();\r\n        setStockData(data);\r\n        setTradingViewSymbol(`${data.exchange}:${data.code}`);\r\n        setLoadingStockData(false);\r\n        setLoadingTradingViewSymbol(false);\r\n      } catch (error) {\r\n        console.error('Error fetching stock data:', error);\r\n        setLoadingStockData(false);  // ensure loading state is updated even on error\r\n        setLoadingTradingViewSymbol(false);  // ensure loading state is updated even on error\r\n      }\r\n    };\r\n\r\n    const fetchFollowingStatus = async () => {\r\n      try {\r\n        const response = await fetch(`https://django-stocks-ecbc6bc5e208.herokuapp.com/api/stocks/${formattedTicker}/`, {\r\n          headers: {\r\n            'Authorization': `Token 13502af70a55d1fcddf7c094e4418c65904ef6eb`,\r\n          },\r\n        });\r\n        if (!response.ok) throw new Error('Failed to fetch following status');\r\n        const result = await response.json();\r\n        setIsFollowing(result.is_following);\r\n        setLoadingIsFollowing(false);\r\n      } catch (error) {\r\n        console.error('Error fetching following status:', error);\r\n        setLoadingIsFollowing(false);  // ensure loading state is updated even on error\r\n      }\r\n    };\r\n\r\n    fetchStockData();\r\n    if (isAuthenticated) {\r\n      fetchFollowingStatus();\r\n    } else {\r\n      setLoadingIsFollowing(false);  // If not authenticated, there's no need to fetch following status\r\n    }\r\n  }, [primary_ticker, isAuthenticated]);\r\n\r\n  const handleFollowClick = async () => {\r\n    if (!isAuthenticated) {\r\n      setShowLoginAlert(true);\r\n      return;\r\n    }\r\n    const formattedTicker = primary_ticker.replace('-', '.');\r\n    try {\r\n      const response = await fetch(`https://django-stocks-ecbc6bc5e208.herokuapp.com/api/stocks/${formattedTicker}/toggle_follow/`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Token 13502af70a55d1fcddf7c094e4418c65904ef6eb`,\r\n        },\r\n      });\r\n      const data = await response.json();\r\n      if (data.status === \"ok\") {\r\n        setIsFollowing(data.action === \"followed\");\r\n      } else {\r\n        console.error('Error:', data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n    }\r\n  };\r\n\r\n  const handleMyNotesClick = () => {\r\n    if (!isAuthenticated) {\r\n      setShowLoginAlert(true);\r\n    } else {\r\n      setMyNotesOpen(true);\r\n    }\r\n  };\r\n\r\n  // Conditional rendering based on the loading states\r\n  if (isLoadingInitialData) {\r\n    return (\r\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Suspense fallback={<Box sx={{ display: 'flex', justifyContent: 'center', mt: 3 }}><CircularProgress /></Box>}>\r\n      <Grid container spacing={3} sx={{ p: 3 }}>\r\n        {showLoginAlert && (\r\n          <Grid item xs={12} sx={{ p: 2 }}>\r\n            <Alert severity=\"warning\" onClose={() => setShowLoginAlert(false)}>\r\n              Please <Link href=\"/login\">log in</Link> to access this.\r\n            </Alert>\r\n          </Grid>\r\n        )}\r\n        <Grid container alignItems=\"center\" className='stock-follow'>\r\n          <Grid item xs={12} sm={6}>\r\n            <Typography variant=\"h4\" className='stockname'>{stockData.name} Fundamental Analysis</Typography>\r\n          </Grid>\r\n          <Grid item xs={4} sm={6}>\r\n            <Button variant=\"outlined\" className='follow-button' onClick={handleMyNotesClick}>My Notes</Button>\r\n            <MyNotesDrawer open={myNotesOpen} onClose={() => setMyNotesOpen(false)} stockId={primary_ticker} stockData={stockData} />\r\n          </Grid>\r\n        </Grid>\r\n        {!loadingTradingViewSymbol && tradingViewSymbol && (\r\n          <Grid item md={7} xs={12} className=\"chart-container\">\r\n            <TradingViewWidget symbol={tradingViewSymbol} />\r\n          </Grid>\r\n        )}\r\n        {!loadingStockData && stockData && (\r\n          <Grid item md={5} xs={12}>\r\n            <StockHighlights general={stockData} highlights={stockData.highlights} />\r\n          </Grid>\r\n        )}\r\n        <Grid container item xs={12} spacing={3}>\r\n          <Grid item xs={12}>\r\n            <BasicStats data={stockData} />\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container item xs={12} spacing={3}>\r\n          <Grid item xs={12}>\r\n            <Description text={stockData.general_description.text} />\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container item md={12} xs={12} spacing={3} sx={{ mt: 3 }}>\r\n<Grid item md={5} xs={12}>\r\n  {stockData.income_statements && <CagrChart incomeStatements={stockData.income_statements} />}\r\n  {stockData.dividend_yield_data && <div style={{ marginTop: '20px' }}></div>}\r\n  {stockData.dividend_yield_data && <DividendYieldChart dividendYieldData={stockData.dividend_yield_data} />}\r\n</Grid>\r\n\r\n        <Grid item md={3} xs={12}>\r\n            {stockData.general_cagr && (\r\n                <CagrPercent\r\n                    cagrData={stockData.general_cagr}\r\n                    stockPriceCagr={stockPriceCagr}\r\n                    dividendYieldCagr={dividendYieldCagr}\r\n                />\r\n            )}\r\n        </Grid>\r\n          <Grid item md={4} xs={12}>\r\n            <AnalystOverallRating ratings={stockData.analyst_ratings} />\r\n            <AnalystRatingsBarChart ratings={stockData.analyst_ratings} />\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container item md={12} xs={12} spacing={3} sx={{ mt: 3 }}>\r\n          <Grid item md={3} xs={12}>\r\n            <MarginTable general={stockData} highlights={stockData.highlights} />\r\n          </Grid>\r\n          <Grid item md={3} xs={12}>\r\n            <ValuationTable general={stockData} valuationData={stockData.valuation} />\r\n          </Grid>\r\n          <Grid item md={3} xs={12}>\r\n            <TechnicalsTable technicalsData={stockData.technicals} />\r\n          </Grid>\r\n          <Grid item md={3} xs={12}>\r\n            <SplitsDividendsTable general={stockData} splitsDividendsData={stockData.splits_dividends} />\r\n          </Grid>\r\n\r\n        </Grid>\r\n        <Grid container item md={12} xs={12} spacing={3} sx={{ mt: 3 }}>\r\n                        <Grid item xs={12} md={4}>\r\n            <FinancialsTable incomeStatements={stockData.income_statements} />\r\n          </Grid>\r\n          <Grid item xs={12} md={4}>\r\n            <BalanceSheets balanceSheets={stockData.balance_sheets} />\r\n          </Grid>\r\n          <Grid item xs={12} md={4}>\r\n            <CashFlows cashFlows={stockData.cash_flows} />\r\n          </Grid>\r\n\r\n        </Grid>\r\n      </Grid>\r\n    </ Suspense>\r\n  );\r\n};\r\n\r\nexport default StockDetail;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,IAAI,QAAQ,OAAO;AAC9E,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SACEC,IAAI,EACJC,UAAU,EACVC,GAAG,EACHC,MAAM,EACNC,KAAK,EACLC,IAAI,EACJC,gBAAgB,QACX,eAAe;AACtB,SAASC,WAAW,QAAQ,wBAAwB;;AAEpD;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,eAAe,gBAAGZ,IAAI,CAAAa,EAAA,GAACA,CAAA,KAAM,MAAM,CAAC,yCAAyC,CAAC,CAAC;AAACC,GAAA,GAAhFF,eAAe;AACrB,MAAMG,aAAa,gBAAGf,IAAI,CAAAgB,GAAA,GAACA,CAAA,KAAM,MAAM,CAAC,iCAAiC,CAAC,CAAC;AAACC,GAAA,GAAtEF,aAAa;AACnB,MAAMG,sBAAsB,gBAAGlB,IAAI,CAAAmB,GAAA,GAACA,CAAA,KAAM,MAAM,CAAC,gDAAgD,CAAC,CAAC;AAACC,GAAA,GAA9FF,sBAAsB;AAC5B,MAAMG,oBAAoB,gBAAGrB,IAAI,CAAAsB,GAAA,GAACA,CAAA,KAAM,MAAM,CAAC,8CAA8C,CAAC,CAAC;AAACC,GAAA,GAA1FF,oBAAoB;AAC1B,MAAMG,SAAS,gBAAGxB,IAAI,CAAAyB,GAAA,GAACA,CAAA,KAAM,MAAM,CAAC,mCAAmC,CAAC,CAAC;AAACC,IAAA,GAApEF,SAAS;AACf,MAAMG,WAAW,gBAAG3B,IAAI,CAAA4B,IAAA,GAACA,CAAA,KAAM,MAAM,CAAC,sCAAsC,CAAC,CAAC;AAACC,IAAA,GAAzEF,WAAW;AACjB,MAAMG,UAAU,gBAAG9B,IAAI,CAAA+B,IAAA,GAACA,CAAA,KAAM,MAAM,CAAC,oCAAoC,CAAC,CAAC;AAACC,IAAA,GAAtEF,UAAU;AAChB,MAAMG,eAAe,gBAAGjC,IAAI,CAAAkC,IAAA,GAACA,CAAA,KAAM,MAAM,CAAC,0CAA0C,CAAC,CAAC;AAACC,IAAA,GAAjFF,eAAe;AACrB,MAAMG,aAAa,gBAAGpC,IAAI,CAAAqC,IAAA,GAACA,CAAA,KAAM,MAAM,CAAC,sCAAsC,CAAC,CAAC;AAACC,IAAA,GAA3EF,aAAa;AACnB,MAAMG,SAAS,gBAAGvC,IAAI,CAAAwC,IAAA,GAACA,CAAA,KAAM,MAAM,CAAC,kCAAkC,CAAC,CAAC;AAACC,IAAA,GAAnEF,SAAS;AACf,MAAMG,cAAc,gBAAG1C,IAAI,CAAA2C,IAAA,GAACA,CAAA,KAAM,MAAM,CAAC,wCAAwC,CAAC,CAAC;AAACC,IAAA,GAA9EF,cAAc;AACpB,MAAMG,eAAe,gBAAG7C,IAAI,CAAA8C,IAAA,GAACA,CAAA,KAAM,MAAM,CAAC,wCAAwC,CAAC,CAAC;AAACC,IAAA,GAA/EF,eAAe;AACrB,MAAMG,oBAAoB,gBAAGhD,IAAI,CAAAiD,IAAA,GAACA,CAAA,KAAM,MAAM,CAAC,8CAA8C,CAAC,CAAC;AAACC,IAAA,GAA1FF,oBAAoB;AAC1B,MAAMG,iBAAiB,gBAAGnD,IAAI,CAAAoD,IAAA,GAACA,CAAA,KAAM,MAAM,CAAC,2CAA2C,CAAC,CAAC;AAACC,IAAA,GAApFF,iBAAiB;AACvB,MAAMG,WAAW,gBAAGtD,IAAI,CAAAuD,IAAA,GAACA,CAAA,KAAM,MAAM,CAAC,qCAAqC,CAAC,CAAC;AAACC,IAAA,GAAxEF,WAAW;AACjB,MAAMG,WAAW,gBAAGzD,IAAI,CAAA0D,IAAA,GAACA,CAAA,KAAM,MAAM,CAAC,qCAAqC,CAAC,CAAC;AAACC,IAAA,GAAxEF,WAAW;AACjB,MAAMG,kBAAkB,gBAAG5D,IAAI,CAAA6D,IAAA,GAACA,CAAA,KAAM,MAAM,CAAC,4CAA4C,CAAC,CAAC;AAACC,IAAA,GAAtFF,kBAAkB;AAGxB,MAAMG,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM;IAAEC;EAAe,CAAC,GAAGhE,SAAS,CAAC,CAAC;EACtC,MAAM,CAACiE,SAAS,EAAEC,YAAY,CAAC,GAAGtE,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACuE,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGxE,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAE;EACjE,MAAM,CAACyE,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG1E,QAAQ,CAAC,EAAE,CAAC;EAC9D,MAAM,CAAC2E,wBAAwB,EAAEC,2BAA2B,CAAC,GAAG5E,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAE;EACjF,MAAM,CAAC6E,WAAW,EAAEC,cAAc,CAAC,GAAG9E,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM;IAAE+E;EAAgB,CAAC,GAAG9E,UAAU,CAACW,WAAW,CAAC;EACnD,MAAM,CAACoE,WAAW,EAAEC,cAAc,CAAC,GAAGjF,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACkF,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGnF,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAE;EACrE,MAAM,CAACoF,cAAc,EAAEC,iBAAiB,CAAC,GAAGrF,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAMsF,oBAAoB,GAAGf,gBAAgB,IAAII,wBAAwB,IAAKI,eAAe,IAAIG,kBAAmB;EACpH,MAAMK,cAAc,GAAGlB,SAAS,IAAIA,SAAS,CAACmB,YAAY,IAAInB,SAAS,CAACmB,YAAY,CAACC,MAAM,GAAG,CAAC,GAAGpB,SAAS,CAACmB,YAAY,CAAC,CAAC,CAAC,CAACE,YAAY,GAAG,IAAI;EAC/I,MAAMC,iBAAiB,GAAGtB,SAAS,IAAIA,SAAS,CAACuB,mBAAmB,GAAGvB,SAAS,CAACuB,mBAAmB,CAACF,YAAY,GAAG,IAAI;EAIxH3F,SAAS,CAAC,MAAM;IACd,MAAM8F,eAAe,GAAGzB,cAAc,CAAC0B,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC;IAExD,MAAMC,cAAc,GAAG,MAAAA,CAAA,KAAY;MACjC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,+DAA8DJ,eAAgB,GAAE,EAAE;UAC9GK,OAAO,EAAE;YACP,eAAe,EAAG;UACpB;QACF,CAAC,CAAC;QACF,IAAI,CAACF,QAAQ,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,4BAA4B,CAAC;QAC/D,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;QAClChC,YAAY,CAAC+B,IAAI,CAAC;QAClB3B,oBAAoB,CAAE,GAAE2B,IAAI,CAACE,QAAS,IAAGF,IAAI,CAACG,IAAK,EAAC,CAAC;QACrDhC,mBAAmB,CAAC,KAAK,CAAC;QAC1BI,2BAA2B,CAAC,KAAK,CAAC;MACpC,CAAC,CAAC,OAAO6B,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;QAClDjC,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAE;QAC7BI,2BAA2B,CAAC,KAAK,CAAC,CAAC,CAAE;MACvC;IACF,CAAC;IAED,MAAM+B,oBAAoB,GAAG,MAAAA,CAAA,KAAY;MACvC,IAAI;QACF,MAAMX,QAAQ,GAAG,MAAMC,KAAK,CAAE,+DAA8DJ,eAAgB,GAAE,EAAE;UAC9GK,OAAO,EAAE;YACP,eAAe,EAAG;UACpB;QACF,CAAC,CAAC;QACF,IAAI,CAACF,QAAQ,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,kCAAkC,CAAC;QACrE,MAAMQ,MAAM,GAAG,MAAMZ,QAAQ,CAACM,IAAI,CAAC,CAAC;QACpCrB,cAAc,CAAC2B,MAAM,CAACC,YAAY,CAAC;QACnC1B,qBAAqB,CAAC,KAAK,CAAC;MAC9B,CAAC,CAAC,OAAOsB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;QACxDtB,qBAAqB,CAAC,KAAK,CAAC,CAAC,CAAE;MACjC;IACF,CAAC;IAEDY,cAAc,CAAC,CAAC;IAChB,IAAIhB,eAAe,EAAE;MACnB4B,oBAAoB,CAAC,CAAC;IACxB,CAAC,MAAM;MACLxB,qBAAqB,CAAC,KAAK,CAAC,CAAC,CAAE;IACjC;EACF,CAAC,EAAE,CAACf,cAAc,EAAEW,eAAe,CAAC,CAAC;EAErC,MAAM+B,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI,CAAC/B,eAAe,EAAE;MACpBM,iBAAiB,CAAC,IAAI,CAAC;MACvB;IACF;IACA,MAAMQ,eAAe,GAAGzB,cAAc,CAAC0B,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC;IACxD,IAAI;MACF,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAAE,+DAA8DJ,eAAgB,iBAAgB,EAAE;QAC5HkB,MAAM,EAAE,MAAM;QACdb,OAAO,EAAE;UACP,eAAe,EAAG;QACpB;MACF,CAAC,CAAC;MACF,MAAMG,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;MAClC,IAAID,IAAI,CAACW,MAAM,KAAK,IAAI,EAAE;QACxB/B,cAAc,CAACoB,IAAI,CAACY,MAAM,KAAK,UAAU,CAAC;MAC5C,CAAC,MAAM;QACLP,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEJ,IAAI,CAAC;MAC/B;IACF,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAChC;EACF,CAAC;EAED,MAAMS,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,IAAI,CAACnC,eAAe,EAAE;MACpBM,iBAAiB,CAAC,IAAI,CAAC;IACzB,CAAC,MAAM;MACLP,cAAc,CAAC,IAAI,CAAC;IACtB;EACF,CAAC;;EAED;EACA,IAAIQ,oBAAoB,EAAE;IACxB,oBACExE,OAAA,CAACP,GAAG;MAAC4G,EAAE,EAAE;QAAEC,OAAO,EAAE,MAAM;QAAEC,cAAc,EAAE,QAAQ;QAAEC,UAAU,EAAE,QAAQ;QAAEC,MAAM,EAAE;MAAQ,CAAE;MAAAC,QAAA,eAC5F1G,OAAA,CAACH,gBAAgB;QAAA8G,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjB,CAAC;EAEV;EAEA,oBACE9G,OAAA,CAACZ,QAAQ;IAAC2H,QAAQ,eAAE/G,OAAA,CAACP,GAAG;MAAC4G,EAAE,EAAE;QAAEC,OAAO,EAAE,MAAM;QAAEC,cAAc,EAAE,QAAQ;QAAES,EAAE,EAAE;MAAE,CAAE;MAAAN,QAAA,eAAC1G,OAAA,CAACH,gBAAgB;QAAA8G,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAE;IAAAJ,QAAA,eAC5G1G,OAAA,CAACT,IAAI;MAAC0H,SAAS;MAACC,OAAO,EAAE,CAAE;MAACb,EAAE,EAAE;QAAEc,CAAC,EAAE;MAAE,CAAE;MAAAT,QAAA,GACtCpC,cAAc,iBACbtE,OAAA,CAACT,IAAI;QAAC6H,IAAI;QAACC,EAAE,EAAE,EAAG;QAAChB,EAAE,EAAE;UAAEc,CAAC,EAAE;QAAE,CAAE;QAAAT,QAAA,eAC9B1G,OAAA,CAACL,KAAK;UAAC2H,QAAQ,EAAC,SAAS;UAACC,OAAO,EAAEA,CAAA,KAAMhD,iBAAiB,CAAC,KAAK,CAAE;UAAAmC,QAAA,GAAC,SAC1D,eAAA1G,OAAA,CAACJ,IAAI;YAAC4H,IAAI,EAAC,QAAQ;YAAAd,QAAA,EAAC;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,oBAC1C;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CACP,eACD9G,OAAA,CAACT,IAAI;QAAC0H,SAAS;QAACT,UAAU,EAAC,QAAQ;QAACiB,SAAS,EAAC,cAAc;QAAAf,QAAA,gBAC1D1G,OAAA,CAACT,IAAI;UAAC6H,IAAI;UAACC,EAAE,EAAE,EAAG;UAACK,EAAE,EAAE,CAAE;UAAAhB,QAAA,eACvB1G,OAAA,CAACR,UAAU;YAACmI,OAAO,EAAC,IAAI;YAACF,SAAS,EAAC,WAAW;YAAAf,QAAA,GAAEnD,SAAS,CAACqE,IAAI,EAAC,uBAAqB;UAAA;YAAAjB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7F,CAAC,eACP9G,OAAA,CAACT,IAAI;UAAC6H,IAAI;UAACC,EAAE,EAAE,CAAE;UAACK,EAAE,EAAE,CAAE;UAAAhB,QAAA,gBACtB1G,OAAA,CAACN,MAAM;YAACiI,OAAO,EAAC,UAAU;YAACF,SAAS,EAAC,eAAe;YAACI,OAAO,EAAEzB,kBAAmB;YAAAM,QAAA,EAAC;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACnG9G,OAAA,CAACI,aAAa;YAAC0H,IAAI,EAAE/D,WAAY;YAACwD,OAAO,EAAEA,CAAA,KAAMvD,cAAc,CAAC,KAAK,CAAE;YAAC+D,OAAO,EAAEzE,cAAe;YAACC,SAAS,EAAEA;UAAU;YAAAoD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,EACN,CAACjD,wBAAwB,IAAIF,iBAAiB,iBAC7C3D,OAAA,CAACT,IAAI;QAAC6H,IAAI;QAACY,EAAE,EAAE,CAAE;QAACX,EAAE,EAAE,EAAG;QAACI,SAAS,EAAC,iBAAiB;QAAAf,QAAA,eACnD1G,OAAA,CAACwC,iBAAiB;UAACyF,MAAM,EAAEtE;QAAkB;UAAAgD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5C,CACP,EACA,CAACrD,gBAAgB,IAAIF,SAAS,iBAC7BvD,OAAA,CAACT,IAAI;QAAC6H,IAAI;QAACY,EAAE,EAAE,CAAE;QAACX,EAAE,EAAE,EAAG;QAAAX,QAAA,eACvB1G,OAAA,CAACC,eAAe;UAACiI,OAAO,EAAE3E,SAAU;UAAC4E,UAAU,EAAE5E,SAAS,CAAC4E;QAAW;UAAAxB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrE,CACP,eACD9G,OAAA,CAACT,IAAI;QAAC0H,SAAS;QAACG,IAAI;QAACC,EAAE,EAAE,EAAG;QAACH,OAAO,EAAE,CAAE;QAAAR,QAAA,eACtC1G,OAAA,CAACT,IAAI;UAAC6H,IAAI;UAACC,EAAE,EAAE,EAAG;UAAAX,QAAA,eAChB1G,OAAA,CAACmB,UAAU;YAACoE,IAAI,EAAEhC;UAAU;YAAAoD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3B;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACP9G,OAAA,CAACT,IAAI;QAAC0H,SAAS;QAACG,IAAI;QAACC,EAAE,EAAE,EAAG;QAACH,OAAO,EAAE,CAAE;QAAAR,QAAA,eACtC1G,OAAA,CAACT,IAAI;UAAC6H,IAAI;UAACC,EAAE,EAAE,EAAG;UAAAX,QAAA,eAChB1G,OAAA,CAAC8C,WAAW;YAACsF,IAAI,EAAE7E,SAAS,CAAC8E,mBAAmB,CAACD;UAAK;YAAAzB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACP9G,OAAA,CAACT,IAAI;QAAC0H,SAAS;QAACG,IAAI;QAACY,EAAE,EAAE,EAAG;QAACX,EAAE,EAAE,EAAG;QAACH,OAAO,EAAE,CAAE;QAACb,EAAE,EAAE;UAAEW,EAAE,EAAE;QAAE,CAAE;QAAAN,QAAA,gBACvE1G,OAAA,CAACT,IAAI;UAAC6H,IAAI;UAACY,EAAE,EAAE,CAAE;UAACX,EAAE,EAAE,EAAG;UAAAX,QAAA,GACtBnD,SAAS,CAAC+E,iBAAiB,iBAAItI,OAAA,CAACa,SAAS;YAAC0H,gBAAgB,EAAEhF,SAAS,CAAC+E;UAAkB;YAAA3B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EAC3FvD,SAAS,CAACuB,mBAAmB,iBAAI9E,OAAA;YAAKwI,KAAK,EAAE;cAAEC,SAAS,EAAE;YAAO;UAAE;YAAA9B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,EAC1EvD,SAAS,CAACuB,mBAAmB,iBAAI9E,OAAA,CAACiD,kBAAkB;YAACyF,iBAAiB,EAAEnF,SAAS,CAACuB;UAAoB;YAAA6B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtG,CAAC,eAEC9G,OAAA,CAACT,IAAI;UAAC6H,IAAI;UAACY,EAAE,EAAE,CAAE;UAACX,EAAE,EAAE,EAAG;UAAAX,QAAA,EACpBnD,SAAS,CAACoF,YAAY,iBACnB3I,OAAA,CAACgB,WAAW;YACR4H,QAAQ,EAAErF,SAAS,CAACoF,YAAa;YACjClE,cAAc,EAAEA,cAAe;YAC/BI,iBAAiB,EAAEA;UAAkB;YAAA8B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxC;QACJ;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACL9G,OAAA,CAACT,IAAI;UAAC6H,IAAI;UAACY,EAAE,EAAE,CAAE;UAACX,EAAE,EAAE,EAAG;UAAAX,QAAA,gBACvB1G,OAAA,CAACU,oBAAoB;YAACmI,OAAO,EAAEtF,SAAS,CAACuF;UAAgB;YAAAnC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC5D9G,OAAA,CAACO,sBAAsB;YAACsI,OAAO,EAAEtF,SAAS,CAACuF;UAAgB;YAAAnC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1D,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACP9G,OAAA,CAACT,IAAI;QAAC0H,SAAS;QAACG,IAAI;QAACY,EAAE,EAAE,EAAG;QAACX,EAAE,EAAE,EAAG;QAACH,OAAO,EAAE,CAAE;QAACb,EAAE,EAAE;UAAEW,EAAE,EAAE;QAAE,CAAE;QAAAN,QAAA,gBAC7D1G,OAAA,CAACT,IAAI;UAAC6H,IAAI;UAACY,EAAE,EAAE,CAAE;UAACX,EAAE,EAAE,EAAG;UAAAX,QAAA,eACvB1G,OAAA,CAAC2C,WAAW;YAACuF,OAAO,EAAE3E,SAAU;YAAC4E,UAAU,EAAE5E,SAAS,CAAC4E;UAAW;YAAAxB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjE,CAAC,eACP9G,OAAA,CAACT,IAAI;UAAC6H,IAAI;UAACY,EAAE,EAAE,CAAE;UAACX,EAAE,EAAE,EAAG;UAAAX,QAAA,eACvB1G,OAAA,CAAC+B,cAAc;YAACmG,OAAO,EAAE3E,SAAU;YAACwF,aAAa,EAAExF,SAAS,CAACyF;UAAU;YAAArC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtE,CAAC,eACP9G,OAAA,CAACT,IAAI;UAAC6H,IAAI;UAACY,EAAE,EAAE,CAAE;UAACX,EAAE,EAAE,EAAG;UAAAX,QAAA,eACvB1G,OAAA,CAACkC,eAAe;YAAC+G,cAAc,EAAE1F,SAAS,CAAC2F;UAAW;YAAAvC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrD,CAAC,eACP9G,OAAA,CAACT,IAAI;UAAC6H,IAAI;UAACY,EAAE,EAAE,CAAE;UAACX,EAAE,EAAE,EAAG;UAAAX,QAAA,eACvB1G,OAAA,CAACqC,oBAAoB;YAAC6F,OAAO,EAAE3E,SAAU;YAAC4F,mBAAmB,EAAE5F,SAAS,CAAC6F;UAAiB;YAAAzC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEH,CAAC,eACP9G,OAAA,CAACT,IAAI;QAAC0H,SAAS;QAACG,IAAI;QAACY,EAAE,EAAE,EAAG;QAACX,EAAE,EAAE,EAAG;QAACH,OAAO,EAAE,CAAE;QAACb,EAAE,EAAE;UAAEW,EAAE,EAAE;QAAE,CAAE;QAAAN,QAAA,gBAC/C1G,OAAA,CAACT,IAAI;UAAC6H,IAAI;UAACC,EAAE,EAAE,EAAG;UAACW,EAAE,EAAE,CAAE;UAAAtB,QAAA,eACrC1G,OAAA,CAACsB,eAAe;YAACiH,gBAAgB,EAAEhF,SAAS,CAAC+E;UAAkB;YAAA3B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9D,CAAC,eACP9G,OAAA,CAACT,IAAI;UAAC6H,IAAI;UAACC,EAAE,EAAE,EAAG;UAACW,EAAE,EAAE,CAAE;UAAAtB,QAAA,eACvB1G,OAAA,CAACyB,aAAa;YAAC4H,aAAa,EAAE9F,SAAS,CAAC+F;UAAe;YAAA3C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtD,CAAC,eACP9G,OAAA,CAACT,IAAI;UAAC6H,IAAI;UAACC,EAAE,EAAE,EAAG;UAACW,EAAE,EAAE,CAAE;UAAAtB,QAAA,eACvB1G,OAAA,CAAC4B,SAAS;YAAC2H,SAAS,EAAEhG,SAAS,CAACiG;UAAW;YAAA7C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEhB,CAAC;AAACzD,EAAA,CApMID,WAAW;EAAA,QACY9D,SAAS;AAAA;AAAAmK,IAAA,GADhCrG,WAAW;AAsMjB,eAAeA,WAAW;AAAC,IAAAlD,EAAA,EAAAC,GAAA,EAAAE,GAAA,EAAAC,GAAA,EAAAE,GAAA,EAAAC,GAAA,EAAAE,GAAA,EAAAC,GAAA,EAAAE,GAAA,EAAAC,IAAA,EAAAE,IAAA,EAAAC,IAAA,EAAAE,IAAA,EAAAC,IAAA,EAAAE,IAAA,EAAAC,IAAA,EAAAE,IAAA,EAAAC,IAAA,EAAAE,IAAA,EAAAC,IAAA,EAAAE,IAAA,EAAAC,IAAA,EAAAE,IAAA,EAAAC,IAAA,EAAAE,IAAA,EAAAC,IAAA,EAAAE,IAAA,EAAAC,IAAA,EAAAE,IAAA,EAAAC,IAAA,EAAAE,IAAA,EAAAC,IAAA,EAAAE,IAAA,EAAAC,IAAA,EAAAsG,IAAA;AAAAC,YAAA,CAAAxJ,EAAA;AAAAwJ,YAAA,CAAAvJ,GAAA;AAAAuJ,YAAA,CAAArJ,GAAA;AAAAqJ,YAAA,CAAApJ,GAAA;AAAAoJ,YAAA,CAAAlJ,GAAA;AAAAkJ,YAAA,CAAAjJ,GAAA;AAAAiJ,YAAA,CAAA/I,GAAA;AAAA+I,YAAA,CAAA9I,GAAA;AAAA8I,YAAA,CAAA5I,GAAA;AAAA4I,YAAA,CAAA3I,IAAA;AAAA2I,YAAA,CAAAzI,IAAA;AAAAyI,YAAA,CAAAxI,IAAA;AAAAwI,YAAA,CAAAtI,IAAA;AAAAsI,YAAA,CAAArI,IAAA;AAAAqI,YAAA,CAAAnI,IAAA;AAAAmI,YAAA,CAAAlI,IAAA;AAAAkI,YAAA,CAAAhI,IAAA;AAAAgI,YAAA,CAAA/H,IAAA;AAAA+H,YAAA,CAAA7H,IAAA;AAAA6H,YAAA,CAAA5H,IAAA;AAAA4H,YAAA,CAAA1H,IAAA;AAAA0H,YAAA,CAAAzH,IAAA;AAAAyH,YAAA,CAAAvH,IAAA;AAAAuH,YAAA,CAAAtH,IAAA;AAAAsH,YAAA,CAAApH,IAAA;AAAAoH,YAAA,CAAAnH,IAAA;AAAAmH,YAAA,CAAAjH,IAAA;AAAAiH,YAAA,CAAAhH,IAAA;AAAAgH,YAAA,CAAA9G,IAAA;AAAA8G,YAAA,CAAA7G,IAAA;AAAA6G,YAAA,CAAA3G,IAAA;AAAA2G,YAAA,CAAA1G,IAAA;AAAA0G,YAAA,CAAAxG,IAAA;AAAAwG,YAAA,CAAAvG,IAAA;AAAAuG,YAAA,CAAAD,IAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}