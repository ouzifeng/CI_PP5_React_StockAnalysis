{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\David\\\\Desktop\\\\Websites\\\\stocks\\\\frontend\\\\src\\\\pages\\\\StockDetailPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext, Suspense, lazy } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Grid, Typography, Box, Button, Alert, Link, CircularProgress } from '@mui/material';\nimport { AuthContext } from '../context/AuthContext';\n\n// Lazy load components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StockHighlights = /*#__PURE__*/lazy(_c = () => import('../components/stockpage/StockHighlights'));\n_c2 = StockHighlights;\nconst MyNotesDrawer = /*#__PURE__*/lazy(_c3 = () => import('../components/stockpage/MyNotes'));\n_c4 = MyNotesDrawer;\nconst AnalystRatingsBarChart = /*#__PURE__*/lazy(_c5 = () => import('../components/stockpage/AnalystRatingsBarChart'));\n_c6 = AnalystRatingsBarChart;\nconst AnalystOverallRating = /*#__PURE__*/lazy(_c7 = () => import('../components/stockpage/AnalystOverallRating'));\n_c8 = AnalystOverallRating;\nconst CagrChart = /*#__PURE__*/lazy(_c9 = () => import('../components/stockpage/CagrChart'));\n_c10 = CagrChart;\nconst CagrPercent = /*#__PURE__*/lazy(_c11 = () => import('../components/stockpage/CagrPercents'));\n_c12 = CagrPercent;\nconst BasicStats = /*#__PURE__*/lazy(_c13 = () => import('../components/stockpage/BasicStats'));\n_c14 = BasicStats;\nconst FinancialsTable = /*#__PURE__*/lazy(_c15 = () => import('../components/stockpage/IncomeStatements'));\n_c16 = FinancialsTable;\nconst BalanceSheets = /*#__PURE__*/lazy(_c17 = () => import('../components/stockpage/BalanceSheet'));\n_c18 = BalanceSheets;\nconst CashFlows = /*#__PURE__*/lazy(_c19 = () => import('../components/stockpage/Cashflow'));\n_c20 = CashFlows;\nconst ValuationTable = /*#__PURE__*/lazy(_c21 = () => import('../components/stockpage/ValuationTable'));\n_c22 = ValuationTable;\nconst TechnicalsTable = /*#__PURE__*/lazy(_c23 = () => import('../components/stockpage/TechnicalTable'));\n_c24 = TechnicalsTable;\nconst SplitsDividendsTable = /*#__PURE__*/lazy(_c25 = () => import('../components/stockpage/SplitsDividendsTable'));\n_c26 = SplitsDividendsTable;\nconst TradingViewWidget = /*#__PURE__*/lazy(_c27 = () => import('../components/stockpage/TradingViewWidget'));\n_c28 = TradingViewWidget;\nconst MarginTable = /*#__PURE__*/lazy(_c29 = () => import('../components/stockpage/MarginTable'));\n_c30 = MarginTable;\nconst Description = /*#__PURE__*/lazy(_c31 = () => import('../components/stockpage/Description'));\n_c32 = Description;\nconst StockDetail = () => {\n  _s();\n  const {\n    primary_ticker\n  } = useParams();\n  const [stockData, setStockData] = useState(null);\n  const [loadingStockData, setLoadingStockData] = useState(true); // Loading state for stockData\n  const [tradingViewSymbol, setTradingViewSymbol] = useState('');\n  const [loadingTradingViewSymbol, setLoadingTradingViewSymbol] = useState(true); // Loading state for tradingViewSymbol\n  const [myNotesOpen, setMyNotesOpen] = useState(false);\n  const {\n    isAuthenticated\n  } = useContext(AuthContext);\n  const [isFollowing, setIsFollowing] = useState(false);\n  const [loadingIsFollowing, setLoadingIsFollowing] = useState(true); // Loading state for isFollowing\n  const [showLoginAlert, setShowLoginAlert] = useState(false);\n  const isLoadingInitialData = loadingStockData || loadingTradingViewSymbol || isAuthenticated && loadingIsFollowing;\n  useEffect(() => {\n    const formattedTicker = primary_ticker.replace('-', '.');\n    const fetchStockData = async () => {\n      try {\n        const response = await fetch(`https://django-stocks-ecbc6bc5e208.herokuapp.com/api/stocks/${formattedTicker}/`, {\n          headers: {\n            'Authorization': `Token 13502af70a55d1fcddf7c094e4418c65904ef6eb`\n          }\n        });\n        if (!response.ok) throw new Error('Failed to fetch stock data');\n        const data = await response.json();\n        setStockData(data);\n        setTradingViewSymbol(`${data.exchange}:${data.code}`);\n        setLoadingStockData(false);\n        setLoadingTradingViewSymbol(false);\n      } catch (error) {\n        console.error('Error fetching stock data:', error);\n        setLoadingStockData(false); // ensure loading state is updated even on error\n        setLoadingTradingViewSymbol(false); // ensure loading state is updated even on error\n      }\n    };\n    const fetchFollowingStatus = async () => {\n      try {\n        const response = await fetch(`https://django-stocks-ecbc6bc5e208.herokuapp.com/api/stocks/${formattedTicker}/`, {\n          headers: {\n            'Authorization': `Token 13502af70a55d1fcddf7c094e4418c65904ef6eb`\n          }\n        });\n        if (!response.ok) throw new Error('Failed to fetch following status');\n        const result = await response.json();\n        setIsFollowing(result.is_following);\n        setLoadingIsFollowing(false);\n      } catch (error) {\n        console.error('Error fetching following status:', error);\n        setLoadingIsFollowing(false); // ensure loading state is updated even on error\n      }\n    };\n    fetchStockData();\n    if (isAuthenticated) {\n      fetchFollowingStatus();\n    } else {\n      setLoadingIsFollowing(false); // If not authenticated, there's no need to fetch following status\n    }\n  }, [primary_ticker, isAuthenticated]);\n  const handleFollowClick = async () => {\n    if (!isAuthenticated) {\n      setShowLoginAlert(true);\n      return;\n    }\n    const formattedTicker = primary_ticker.replace('-', '.');\n    try {\n      const response = await fetch(`https://django-stocks-ecbc6bc5e208.herokuapp.com/api/stocks/${formattedTicker}/toggle_follow/`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Token 13502af70a55d1fcddf7c094e4418c65904ef6eb`\n        }\n      });\n      const data = await response.json();\n      if (data.status === \"ok\") {\n        setIsFollowing(data.action === \"followed\");\n      } else {\n        console.error('Error:', data);\n      }\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  };\n  const handleMyNotesClick = () => {\n    if (!isAuthenticated) {\n      setShowLoginAlert(true);\n    } else {\n      setMyNotesOpen(true);\n    }\n  };\n\n  // Conditional rendering based on the loading states\n  if (isLoadingInitialData) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Suspense, {\n    fallback: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        mt: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 88\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 25\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      sx: {\n        p: 3\n      },\n      children: [showLoginAlert && /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sx: {\n          p: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"warning\",\n          onClose: () => setShowLoginAlert(false),\n          children: [\"Please \", /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/login\",\n            children: \"log in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 22\n          }, this), \" to access this.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        alignItems: \"center\",\n        className: \"stock-follow\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 10,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h4\",\n            className: \"stockname\",\n            children: [stockData.name, \" Fundamental Analysis\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 3,\n          sm: 1,\n          children: !loadingIsFollowing && isAuthenticated ? /*#__PURE__*/_jsxDEV(Button, {\n            variant: isFollowing ? 'contained' : 'outlined',\n            className: \"follow-button\",\n            onClick: handleFollowClick,\n            children: isFollowing ? 'Following' : 'Follow'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            onClick: () => setShowLoginAlert(true),\n            children: \"Follow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4,\n          sm: 1,\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            className: \"follow-button\",\n            onClick: handleMyNotesClick,\n            children: \"My Notes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MyNotesDrawer, {\n            open: myNotesOpen,\n            onClose: () => setMyNotesOpen(false),\n            stockId: primary_ticker,\n            stockData: stockData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), !loadingTradingViewSymbol && tradingViewSymbol && /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 7,\n        xs: 12,\n        className: \"chart-container\",\n        children: /*#__PURE__*/_jsxDEV(TradingViewWidget, {\n          symbol: tradingViewSymbol\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this), !loadingStockData && stockData && /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 5,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(StockHighlights, {\n          highlights: stockData.highlights\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        item: true,\n        xs: 12,\n        spacing: 3,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(BasicStats, {\n            data: stockData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        item: true,\n        xs: 12,\n        spacing: 3,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Description, {\n            text: stockData.general_description.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        item: true,\n        md: 12,\n        xs: 12,\n        spacing: 3,\n        sx: {\n          mt: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 5,\n          xs: 12,\n          children: stockData.income_statements && /*#__PURE__*/_jsxDEV(CagrChart, {\n            incomeStatements: stockData.income_statements\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 3,\n          xs: 12,\n          children: stockData.general_cagr && /*#__PURE__*/_jsxDEV(CagrPercent, {\n            cagrData: stockData.general_cagr\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 4,\n          xs: 12,\n          children: [/*#__PURE__*/_jsxDEV(AnalystOverallRating, {\n            ratings: stockData.analyst_ratings\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AnalystRatingsBarChart, {\n            ratings: stockData.analyst_ratings\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        item: true,\n        md: 12,\n        xs: 12,\n        spacing: 3,\n        sx: {\n          mt: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 3,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(MarginTable, {\n            highlights: stockData.highlights\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 3,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(ValuationTable, {\n            valuationData: stockData.valuation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 3,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(TechnicalsTable, {\n            technicalsData: stockData.technicals\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 3,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(SplitsDividendsTable, {\n            splitsDividendsData: stockData.splits_dividends\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(FinancialsTable, {\n            incomeStatements: stockData.income_statements\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          style: {\n            marginTop: '20px'\n          },\n          children: /*#__PURE__*/_jsxDEV(BalanceSheets, {\n            balanceSheets: stockData.balance_sheets\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          style: {\n            marginTop: '20px'\n          },\n          children: /*#__PURE__*/_jsxDEV(CashFlows, {\n            cashFlows: stockData.cash_flows\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n};\n_s(StockDetail, \"Kzby65NEBA6AG7phDgec1GTFSjM=\", false, function () {\n  return [useParams];\n});\n_c33 = StockDetail;\nexport default StockDetail;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26, _c27, _c28, _c29, _c30, _c31, _c32, _c33;\n$RefreshReg$(_c, \"StockHighlights$lazy\");\n$RefreshReg$(_c2, \"StockHighlights\");\n$RefreshReg$(_c3, \"MyNotesDrawer$lazy\");\n$RefreshReg$(_c4, \"MyNotesDrawer\");\n$RefreshReg$(_c5, \"AnalystRatingsBarChart$lazy\");\n$RefreshReg$(_c6, \"AnalystRatingsBarChart\");\n$RefreshReg$(_c7, \"AnalystOverallRating$lazy\");\n$RefreshReg$(_c8, \"AnalystOverallRating\");\n$RefreshReg$(_c9, \"CagrChart$lazy\");\n$RefreshReg$(_c10, \"CagrChart\");\n$RefreshReg$(_c11, \"CagrPercent$lazy\");\n$RefreshReg$(_c12, \"CagrPercent\");\n$RefreshReg$(_c13, \"BasicStats$lazy\");\n$RefreshReg$(_c14, \"BasicStats\");\n$RefreshReg$(_c15, \"FinancialsTable$lazy\");\n$RefreshReg$(_c16, \"FinancialsTable\");\n$RefreshReg$(_c17, \"BalanceSheets$lazy\");\n$RefreshReg$(_c18, \"BalanceSheets\");\n$RefreshReg$(_c19, \"CashFlows$lazy\");\n$RefreshReg$(_c20, \"CashFlows\");\n$RefreshReg$(_c21, \"ValuationTable$lazy\");\n$RefreshReg$(_c22, \"ValuationTable\");\n$RefreshReg$(_c23, \"TechnicalsTable$lazy\");\n$RefreshReg$(_c24, \"TechnicalsTable\");\n$RefreshReg$(_c25, \"SplitsDividendsTable$lazy\");\n$RefreshReg$(_c26, \"SplitsDividendsTable\");\n$RefreshReg$(_c27, \"TradingViewWidget$lazy\");\n$RefreshReg$(_c28, \"TradingViewWidget\");\n$RefreshReg$(_c29, \"MarginTable$lazy\");\n$RefreshReg$(_c30, \"MarginTable\");\n$RefreshReg$(_c31, \"Description$lazy\");\n$RefreshReg$(_c32, \"Description\");\n$RefreshReg$(_c33, \"StockDetail\");","map":{"version":3,"names":["React","useEffect","useState","useContext","Suspense","lazy","useParams","Grid","Typography","Box","Button","Alert","Link","CircularProgress","AuthContext","jsxDEV","_jsxDEV","StockHighlights","_c","_c2","MyNotesDrawer","_c3","_c4","AnalystRatingsBarChart","_c5","_c6","AnalystOverallRating","_c7","_c8","CagrChart","_c9","_c10","CagrPercent","_c11","_c12","BasicStats","_c13","_c14","FinancialsTable","_c15","_c16","BalanceSheets","_c17","_c18","CashFlows","_c19","_c20","ValuationTable","_c21","_c22","TechnicalsTable","_c23","_c24","SplitsDividendsTable","_c25","_c26","TradingViewWidget","_c27","_c28","MarginTable","_c29","_c30","Description","_c31","_c32","StockDetail","_s","primary_ticker","stockData","setStockData","loadingStockData","setLoadingStockData","tradingViewSymbol","setTradingViewSymbol","loadingTradingViewSymbol","setLoadingTradingViewSymbol","myNotesOpen","setMyNotesOpen","isAuthenticated","isFollowing","setIsFollowing","loadingIsFollowing","setLoadingIsFollowing","showLoginAlert","setShowLoginAlert","isLoadingInitialData","formattedTicker","replace","fetchStockData","response","fetch","headers","ok","Error","data","json","exchange","code","error","console","fetchFollowingStatus","result","is_following","handleFollowClick","method","status","action","handleMyNotesClick","sx","display","justifyContent","alignItems","height","children","fileName","_jsxFileName","lineNumber","columnNumber","fallback","mt","container","spacing","p","item","xs","severity","onClose","href","className","sm","variant","name","onClick","open","stockId","md","symbol","highlights","text","general_description","income_statements","incomeStatements","general_cagr","cagrData","ratings","analyst_ratings","valuationData","valuation","technicalsData","technicals","splitsDividendsData","splits_dividends","style","marginTop","balanceSheets","balance_sheets","cashFlows","cash_flows","_c33","$RefreshReg$"],"sources":["C:/Users/David/Desktop/Websites/stocks/frontend/src/pages/StockDetailPage.js"],"sourcesContent":["import React, { useEffect, useState, useContext, Suspense, lazy } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport {\r\n  Grid,\r\n  Typography,\r\n  Box,\r\n  Button,\r\n  Alert,\r\n  Link,\r\n  CircularProgress,\r\n} from '@mui/material';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\n// Lazy load components\r\nconst StockHighlights = lazy(() => import('../components/stockpage/StockHighlights'));\r\nconst MyNotesDrawer = lazy(() => import('../components/stockpage/MyNotes'));\r\nconst AnalystRatingsBarChart = lazy(() => import('../components/stockpage/AnalystRatingsBarChart'));\r\nconst AnalystOverallRating = lazy(() => import('../components/stockpage/AnalystOverallRating'));\r\nconst CagrChart = lazy(() => import('../components/stockpage/CagrChart'));\r\nconst CagrPercent = lazy(() => import('../components/stockpage/CagrPercents'));\r\nconst BasicStats = lazy(() => import('../components/stockpage/BasicStats'));\r\nconst FinancialsTable = lazy(() => import('../components/stockpage/IncomeStatements'));\r\nconst BalanceSheets = lazy(() => import('../components/stockpage/BalanceSheet'));\r\nconst CashFlows = lazy(() => import('../components/stockpage/Cashflow'));\r\nconst ValuationTable = lazy(() => import('../components/stockpage/ValuationTable'));\r\nconst TechnicalsTable = lazy(() => import('../components/stockpage/TechnicalTable'));\r\nconst SplitsDividendsTable = lazy(() => import('../components/stockpage/SplitsDividendsTable'));\r\nconst TradingViewWidget = lazy(() => import('../components/stockpage/TradingViewWidget'));\r\nconst MarginTable = lazy(() => import('../components/stockpage/MarginTable'));\r\nconst Description = lazy(() => import('../components/stockpage/Description'));\r\n\r\nconst StockDetail = () => {\r\n  const { primary_ticker } = useParams();\r\n  const [stockData, setStockData] = useState(null);\r\n  const [loadingStockData, setLoadingStockData] = useState(true);  // Loading state for stockData\r\n  const [tradingViewSymbol, setTradingViewSymbol] = useState('');\r\n  const [loadingTradingViewSymbol, setLoadingTradingViewSymbol] = useState(true);  // Loading state for tradingViewSymbol\r\n  const [myNotesOpen, setMyNotesOpen] = useState(false);\r\n  const { isAuthenticated } = useContext(AuthContext);\r\n  const [isFollowing, setIsFollowing] = useState(false);\r\n  const [loadingIsFollowing, setLoadingIsFollowing] = useState(true);  // Loading state for isFollowing\r\n  const [showLoginAlert, setShowLoginAlert] = useState(false);\r\n  const isLoadingInitialData = loadingStockData || loadingTradingViewSymbol || (isAuthenticated && loadingIsFollowing);\r\n\r\n\r\n  useEffect(() => {\r\n    const formattedTicker = primary_ticker.replace('-', '.');\r\n    \r\n    const fetchStockData = async () => {\r\n      try {\r\n        const response = await fetch(`https://django-stocks-ecbc6bc5e208.herokuapp.com/api/stocks/${formattedTicker}/`, {\r\n          headers: {\r\n            'Authorization': `Token 13502af70a55d1fcddf7c094e4418c65904ef6eb`,\r\n          },\r\n        });\r\n        if (!response.ok) throw new Error('Failed to fetch stock data');\r\n        const data = await response.json();\r\n        setStockData(data);\r\n        setTradingViewSymbol(`${data.exchange}:${data.code}`);\r\n        setLoadingStockData(false);\r\n        setLoadingTradingViewSymbol(false);\r\n      } catch (error) {\r\n        console.error('Error fetching stock data:', error);\r\n        setLoadingStockData(false);  // ensure loading state is updated even on error\r\n        setLoadingTradingViewSymbol(false);  // ensure loading state is updated even on error\r\n      }\r\n    };\r\n\r\n    const fetchFollowingStatus = async () => {\r\n      try {\r\n        const response = await fetch(`https://django-stocks-ecbc6bc5e208.herokuapp.com/api/stocks/${formattedTicker}/`, {\r\n          headers: {\r\n            'Authorization': `Token 13502af70a55d1fcddf7c094e4418c65904ef6eb`,\r\n          },\r\n        });\r\n        if (!response.ok) throw new Error('Failed to fetch following status');\r\n        const result = await response.json();\r\n        setIsFollowing(result.is_following);\r\n        setLoadingIsFollowing(false);\r\n      } catch (error) {\r\n        console.error('Error fetching following status:', error);\r\n        setLoadingIsFollowing(false);  // ensure loading state is updated even on error\r\n      }\r\n    };\r\n\r\n    fetchStockData();\r\n    if (isAuthenticated) {\r\n      fetchFollowingStatus();\r\n    } else {\r\n      setLoadingIsFollowing(false);  // If not authenticated, there's no need to fetch following status\r\n    }\r\n  }, [primary_ticker, isAuthenticated]);\r\n\r\n  const handleFollowClick = async () => {\r\n    if (!isAuthenticated) {\r\n      setShowLoginAlert(true);\r\n      return;\r\n    }\r\n    const formattedTicker = primary_ticker.replace('-', '.');\r\n    try {\r\n      const response = await fetch(`https://django-stocks-ecbc6bc5e208.herokuapp.com/api/stocks/${formattedTicker}/toggle_follow/`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Token 13502af70a55d1fcddf7c094e4418c65904ef6eb`,\r\n        },\r\n      });\r\n      const data = await response.json();\r\n      if (data.status === \"ok\") {\r\n        setIsFollowing(data.action === \"followed\");\r\n      } else {\r\n        console.error('Error:', data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n    }\r\n  };\r\n\r\n  const handleMyNotesClick = () => {\r\n    if (!isAuthenticated) {\r\n      setShowLoginAlert(true);\r\n    } else {\r\n      setMyNotesOpen(true);\r\n    }\r\n  };\r\n\r\n  // Conditional rendering based on the loading states\r\n  if (isLoadingInitialData) {\r\n    return (\r\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Suspense fallback={<Box sx={{ display: 'flex', justifyContent: 'center', mt: 3 }}><Typography>Loading...</Typography></Box>}>\r\n      <Grid container spacing={3} sx={{ p: 3 }}>\r\n        {showLoginAlert && (\r\n          <Grid item xs={12} sx={{ p: 2 }}>\r\n            <Alert severity=\"warning\" onClose={() => setShowLoginAlert(false)}>\r\n              Please <Link href=\"/login\">log in</Link> to access this.\r\n            </Alert>\r\n          </Grid>\r\n        )}\r\n        <Grid container alignItems=\"center\" className='stock-follow'>\r\n          <Grid item xs={12} sm={10}>\r\n            <Typography variant=\"h4\" className='stockname'>{stockData.name} Fundamental Analysis</Typography>\r\n          </Grid>\r\n          <Grid item xs={3} sm={1}>\r\n            {!loadingIsFollowing && isAuthenticated ? (\r\n              <Button\r\n                variant={isFollowing ? 'contained' : 'outlined'}\r\n                className='follow-button'\r\n                onClick={handleFollowClick}\r\n              >\r\n                {isFollowing ? 'Following' : 'Follow'}\r\n              </Button>\r\n            ) : (\r\n              <Button variant=\"outlined\" onClick={() => setShowLoginAlert(true)}>Follow</Button>\r\n            )}\r\n          </Grid>\r\n          <Grid item xs={4} sm={1}>\r\n            <Button variant=\"outlined\" className='follow-button' onClick={handleMyNotesClick}>My Notes</Button>\r\n            <MyNotesDrawer open={myNotesOpen} onClose={() => setMyNotesOpen(false)} stockId={primary_ticker} stockData={stockData} />\r\n          </Grid>\r\n        </Grid>\r\n\r\n        {!loadingTradingViewSymbol && tradingViewSymbol && (\r\n          <Grid item md={7} xs={12} className=\"chart-container\">\r\n            <TradingViewWidget symbol={tradingViewSymbol} />\r\n          </Grid>\r\n        )}\r\n        {!loadingStockData && stockData && (\r\n          <Grid item md={5} xs={12}>\r\n            <StockHighlights highlights={stockData.highlights} />\r\n          </Grid>\r\n        )}\r\n        <Grid container item xs={12} spacing={3}>\r\n          <Grid item xs={12}>\r\n            <BasicStats data={stockData} />\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container item xs={12} spacing={3}>\r\n          <Grid item xs={12}>\r\n            <Description text={stockData.general_description.text} />\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container item md={12} xs={12} spacing={3} sx={{ mt: 3 }}>\r\n          <Grid item md={5} xs={12}>\r\n            {stockData.income_statements && <CagrChart incomeStatements={stockData.income_statements} />}\r\n          </Grid>\r\n          <Grid item md={3} xs={12}>\r\n            {stockData.general_cagr && (\r\n              <CagrPercent cagrData={stockData.general_cagr} />\r\n            )}\r\n          </Grid>\r\n          <Grid item md={4} xs={12}>\r\n            <AnalystOverallRating ratings={stockData.analyst_ratings} />\r\n            <AnalystRatingsBarChart ratings={stockData.analyst_ratings} />\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container item md={12} xs={12} spacing={3} sx={{ mt: 3 }}>\r\n          <Grid item md={3} xs={12}>\r\n            <MarginTable highlights={stockData.highlights} />\r\n          </Grid>\r\n          <Grid item md={3} xs={12}>\r\n            <ValuationTable valuationData={stockData.valuation} />\r\n          </Grid>\r\n          <Grid item md={3} xs={12}>\r\n            <TechnicalsTable technicalsData={stockData.technicals} />\r\n          </Grid>\r\n          <Grid item md={3} xs={12}>\r\n            <SplitsDividendsTable splitsDividendsData={stockData.splits_dividends} />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <FinancialsTable incomeStatements={stockData.income_statements} />\r\n          </Grid>\r\n          <Grid item xs={12} style={{ marginTop: '20px' }}>\r\n            <BalanceSheets balanceSheets={stockData.balance_sheets} />\r\n          </Grid>\r\n          <Grid item xs={12} style={{ marginTop: '20px' }}>\r\n            <CashFlows cashFlows={stockData.cash_flows} />\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </ Suspense>\r\n  );\r\n};\r\n\r\nexport default StockDetail;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}