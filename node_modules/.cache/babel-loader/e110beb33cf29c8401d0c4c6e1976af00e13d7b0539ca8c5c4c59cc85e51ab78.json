{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Ticker=_ref=>{let{className}=_ref;const containerRef=useRef();useEffect(()=>{const currentRef=containerRef.current;// Capture the ref value\n// Delay the script injection until after the current call stack clears\nconst timeoutId=setTimeout(()=>{if(currentRef){// Clear any existing content\ncurrentRef.innerHTML='';// Create script element\nconst script=document.createElement('script');script.src='https://s3.tradingview.com/external-embedding/embed-widget-tickers.js';script.async=true;script.type='text/javascript';script.innerHTML=JSON.stringify({\"symbols\":[{\"proName\":\"FOREXCOM:SPXUSD\",\"title\":\"S&P 500\"},{\"description\":\"NASDAQ\",\"proName\":\"NASDAQ:IXIC\"},{\"description\":\"FTSE 100\",\"proName\":\"SPREADEX:FTSE\"},{\"description\":\"RUSSELL 2000\",\"proName\":\"CAPITALCOM:RTY\"},{\"description\":\"DAX\",\"proName\":\"XETR:DAX\"},{\"description\":\"DAX\",\"proName\":\"XETR:DAX\"}],\"isTransparent\":false,\"showSymbolLogo\":false,\"colorTheme\":\"light\",\"locale\":\"en\"});// Append script to the container\ncurrentRef.appendChild(script);}},0);// Cleanup function to remove script when component unmounts\nreturn()=>{clearTimeout(timeoutId);if(currentRef){const script=currentRef.querySelector('script');if(script){currentRef.removeChild(script);}}};},[]);// Empty dependency array ensures the effect runs once on mount\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"tradingview-widget-container\",ref:containerRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"tradingview-widget-container__widget\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tradingview-widget-copyright\"})]});};export default Ticker;","map":{"version":3,"names":["React","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","Ticker","_ref","className","containerRef","currentRef","current","timeoutId","setTimeout","innerHTML","script","document","createElement","src","async","type","JSON","stringify","appendChild","clearTimeout","querySelector","removeChild","ref","children"],"sources":["C:/Users/David/Desktop/Websites/stocks/frontend/src/components/stockpage/Ticker.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\n\r\nconst Ticker = ({ className }) => {\r\n  const containerRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const currentRef = containerRef.current; // Capture the ref value\r\n\r\n    // Delay the script injection until after the current call stack clears\r\n    const timeoutId = setTimeout(() => {\r\n      if (currentRef) {\r\n        // Clear any existing content\r\n        currentRef.innerHTML = '';\r\n\r\n        // Create script element\r\n        const script = document.createElement('script');\r\n        script.src = 'https://s3.tradingview.com/external-embedding/embed-widget-tickers.js';\r\n        script.async = true;\r\n        script.type = 'text/javascript';\r\n        script.innerHTML = JSON.stringify({\r\n          \"symbols\": [\r\n            {\r\n              \"proName\": \"FOREXCOM:SPXUSD\",\r\n              \"title\": \"S&P 500\"\r\n            },\r\n            {\r\n              \"description\": \"NASDAQ\",\r\n              \"proName\": \"NASDAQ:IXIC\"\r\n            },\r\n            {\r\n              \"description\": \"FTSE 100\",\r\n              \"proName\": \"SPREADEX:FTSE\"\r\n            },\r\n            {\r\n              \"description\": \"RUSSELL 2000\",\r\n              \"proName\": \"CAPITALCOM:RTY\"\r\n            },\r\n            {\r\n              \"description\": \"DAX\",\r\n              \"proName\": \"XETR:DAX\"\r\n            },\r\n            {\r\n              \"description\": \"DAX\",\r\n              \"proName\": \"XETR:DAX\"\r\n            }\r\n          ],\r\n          \"isTransparent\": false,\r\n          \"showSymbolLogo\": false,\r\n          \"colorTheme\": \"light\",\r\n          \"locale\": \"en\"\r\n        });\r\n\r\n        // Append script to the container\r\n        currentRef.appendChild(script);\r\n      }\r\n    }, 0);\r\n\r\n    // Cleanup function to remove script when component unmounts\r\n    return () => {\r\n      clearTimeout(timeoutId);\r\n      if (currentRef) {\r\n        const script = currentRef.querySelector('script');\r\n        if (script) {\r\n          currentRef.removeChild(script);\r\n        }\r\n      }\r\n    };\r\n  }, []); // Empty dependency array ensures the effect runs once on mount\r\n\r\n  return (\r\n    <div className=\"tradingview-widget-container\" ref={containerRef}>\r\n      <div className=\"tradingview-widget-container__widget\"></div>\r\n      <div className=\"tradingview-widget-copyright\">\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Ticker;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEjD,KAAM,CAAAC,MAAM,CAAGC,IAAA,EAAmB,IAAlB,CAAEC,SAAU,CAAC,CAAAD,IAAA,CAC3B,KAAM,CAAAE,YAAY,CAAGR,MAAM,CAAC,CAAC,CAE7BD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAU,UAAU,CAAGD,YAAY,CAACE,OAAO,CAAE;AAEzC;AACA,KAAM,CAAAC,SAAS,CAAGC,UAAU,CAAC,IAAM,CACjC,GAAIH,UAAU,CAAE,CACd;AACAA,UAAU,CAACI,SAAS,CAAG,EAAE,CAEzB;AACA,KAAM,CAAAC,MAAM,CAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC,CAC/CF,MAAM,CAACG,GAAG,CAAG,uEAAuE,CACpFH,MAAM,CAACI,KAAK,CAAG,IAAI,CACnBJ,MAAM,CAACK,IAAI,CAAG,iBAAiB,CAC/BL,MAAM,CAACD,SAAS,CAAGO,IAAI,CAACC,SAAS,CAAC,CAChC,SAAS,CAAE,CACT,CACE,SAAS,CAAE,iBAAiB,CAC5B,OAAO,CAAE,SACX,CAAC,CACD,CACE,aAAa,CAAE,QAAQ,CACvB,SAAS,CAAE,aACb,CAAC,CACD,CACE,aAAa,CAAE,UAAU,CACzB,SAAS,CAAE,eACb,CAAC,CACD,CACE,aAAa,CAAE,cAAc,CAC7B,SAAS,CAAE,gBACb,CAAC,CACD,CACE,aAAa,CAAE,KAAK,CACpB,SAAS,CAAE,UACb,CAAC,CACD,CACE,aAAa,CAAE,KAAK,CACpB,SAAS,CAAE,UACb,CAAC,CACF,CACD,eAAe,CAAE,KAAK,CACtB,gBAAgB,CAAE,KAAK,CACvB,YAAY,CAAE,OAAO,CACrB,QAAQ,CAAE,IACZ,CAAC,CAAC,CAEF;AACAZ,UAAU,CAACa,WAAW,CAACR,MAAM,CAAC,CAChC,CACF,CAAC,CAAE,CAAC,CAAC,CAEL;AACA,MAAO,IAAM,CACXS,YAAY,CAACZ,SAAS,CAAC,CACvB,GAAIF,UAAU,CAAE,CACd,KAAM,CAAAK,MAAM,CAAGL,UAAU,CAACe,aAAa,CAAC,QAAQ,CAAC,CACjD,GAAIV,MAAM,CAAE,CACVL,UAAU,CAACgB,WAAW,CAACX,MAAM,CAAC,CAChC,CACF,CACF,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAAE;AAER,mBACEV,KAAA,QAAKG,SAAS,CAAC,8BAA8B,CAACmB,GAAG,CAAElB,YAAa,CAAAmB,QAAA,eAC9DzB,IAAA,QAAKK,SAAS,CAAC,sCAAsC,CAAM,CAAC,cAC5DL,IAAA,QAAKK,SAAS,CAAC,8BAA8B,CACxC,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAF,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}