{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\David\\\\Desktop\\\\Websites\\\\stocks\\\\frontend\\\\src\\\\components\\\\stockpage\\\\AnalystOverallRating.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport Typography from '@mui/material/Typography';\nimport Slider from '@mui/material/Slider';\nimport Box from '@mui/material/Box';\nimport Paper from '@mui/material/Paper';\nimport { useTheme } from '@mui/material/styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AnalystOverallRating = ({\n  ratings\n}) => {\n  _s();\n  const theme = useTheme();\n  const calculateOverallRating = ratings => {\n    if (!ratings) return 'N/A'; // Add check here\n\n    const weights = {\n      strong_buy: 5,\n      buy: 4,\n      hold: 3,\n      sell: 2,\n      strong_sell: 1\n    };\n    let weightedSum = 0;\n    let totalRatingsCount = 0;\n    Object.keys(weights).forEach(key => {\n      if (ratings[key]) {\n        weightedSum += ratings[key] * weights[key];\n        totalRatingsCount += ratings[key];\n      }\n    });\n    return totalRatingsCount > 0 ? (weightedSum / totalRatingsCount).toFixed(1) : 'N/A';\n  };\n  const overallRating = calculateOverallRating(ratings);\n\n  // Ensure ratings is not null before proceeding\n  const numberOfAnalysts = ratings ? Object.keys(ratings).filter(key => ['strong_buy', 'buy', 'hold', 'sell', 'strong_sell'].includes(key)).reduce((sum, key) => sum + ratings[key], 0) : 0;\n  const marks = [{\n    value: 1,\n    label: 'Strong Sell'\n  }, {\n    value: 2,\n    label: 'Sell'\n  }, {\n    value: 3,\n    label: 'Hold'\n  }, {\n    value: 4,\n    label: 'Buy'\n  }, {\n    value: 5,\n    label: 'Strong Buy'\n  }];\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 3,\n    sx: {\n      mb: 3,\n      overflow: 'hidden'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 1,\n        bgcolor: theme.palette.primary.main,\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle1\",\n        sx: {\n          color: 'common.white'\n        },\n        children: \"Average Analyst Rating\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 2\n      },\n      children: ratings ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Slider, {\n          value: parseFloat(overallRating),\n          \"aria-labelledby\": \"analyst-rating-slider\",\n          valueLabelDisplay: \"auto\",\n          step: 0.1,\n          marks: marks,\n          min: 1,\n          max: 5,\n          disabled: true,\n          sx: {\n            '& .MuiSlider-thumb': {\n              backgroundColor: theme.palette.common.white\n            },\n            '& .MuiSlider-valueLabel': {\n              backgroundColor: 'transparent',\n              color: theme.palette.primary.main\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          align: \"center\",\n          color: \"primary\",\n          sx: {\n            mt: 2\n          },\n          children: [\"Overall Rating: \", overallRating, \" based on \", numberOfAnalysts, \" opinions\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        align: \"center\",\n        sx: {\n          mt: 2\n        },\n        children: \"No analyst ratings available.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(AnalystOverallRating, \"VrMvFCCB9Haniz3VCRPNUiCauHs=\", false, function () {\n  return [useTheme];\n});\n_c = AnalystOverallRating;\nexport default AnalystOverallRating;\nvar _c;\n$RefreshReg$(_c, \"AnalystOverallRating\");","map":{"version":3,"names":["React","Typography","Slider","Box","Paper","useTheme","jsxDEV","_jsxDEV","Fragment","_Fragment","AnalystOverallRating","ratings","_s","theme","calculateOverallRating","weights","strong_buy","buy","hold","sell","strong_sell","weightedSum","totalRatingsCount","Object","keys","forEach","key","toFixed","overallRating","numberOfAnalysts","filter","includes","reduce","sum","marks","value","label","elevation","sx","mb","overflow","children","p","bgcolor","palette","primary","main","textAlign","variant","color","fileName","_jsxFileName","lineNumber","columnNumber","parseFloat","valueLabelDisplay","step","min","max","disabled","backgroundColor","common","white","align","mt","_c","$RefreshReg$"],"sources":["C:/Users/David/Desktop/Websites/stocks/frontend/src/components/stockpage/AnalystOverallRating.js"],"sourcesContent":["import React from 'react';\r\nimport Typography from '@mui/material/Typography';\r\nimport Slider from '@mui/material/Slider';\r\nimport Box from '@mui/material/Box';\r\nimport Paper from '@mui/material/Paper';\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nconst AnalystOverallRating = ({ ratings }) => {\r\n  const theme = useTheme();\r\n\r\n  const calculateOverallRating = (ratings) => {\r\n    if (!ratings) return 'N/A'; // Add check here\r\n\r\n    const weights = {\r\n      strong_buy: 5,\r\n      buy: 4,\r\n      hold: 3,\r\n      sell: 2,\r\n      strong_sell: 1,\r\n    };\r\n\r\n    let weightedSum = 0;\r\n    let totalRatingsCount = 0;\r\n\r\n    Object.keys(weights).forEach(key => {\r\n      if (ratings[key]) {\r\n        weightedSum += ratings[key] * weights[key];\r\n        totalRatingsCount += ratings[key];\r\n      }\r\n    });\r\n\r\n    return totalRatingsCount > 0 ? (weightedSum / totalRatingsCount).toFixed(1) : 'N/A';\r\n  };\r\n\r\n  const overallRating = calculateOverallRating(ratings);\r\n\r\n  // Ensure ratings is not null before proceeding\r\n  const numberOfAnalysts = ratings ? Object.keys(ratings)\r\n    .filter(key => ['strong_buy', 'buy', 'hold', 'sell', 'strong_sell'].includes(key))\r\n    .reduce((sum, key) => sum + ratings[key], 0) : 0;\r\n\r\n  const marks = [\r\n    { value: 1, label: 'Strong Sell' },\r\n    { value: 2, label: 'Sell' },\r\n    { value: 3, label: 'Hold' },\r\n    { value: 4, label: 'Buy' },\r\n    { value: 5, label: 'Strong Buy' },\r\n  ];\r\n\r\n  return (\r\n    <Paper elevation={3} sx={{ mb: 3, overflow: 'hidden' }}>\r\n      <Box sx={{ p: 1, bgcolor: theme.palette.primary.main, textAlign: 'center' }}>\r\n        <Typography variant=\"subtitle1\" sx={{ color: 'common.white' }}>Average Analyst Rating</Typography>\r\n      </Box>\r\n      <Box sx={{ p: 2 }}>\r\n        {ratings ? (\r\n          <>\r\n            <Slider\r\n              value={parseFloat(overallRating)}\r\n              aria-labelledby=\"analyst-rating-slider\"\r\n              valueLabelDisplay=\"auto\"\r\n              step={0.1}\r\n              marks={marks}\r\n              min={1}\r\n              max={5}\r\n              disabled\r\n              sx={{\r\n                '& .MuiSlider-thumb': {\r\n                  backgroundColor: theme.palette.common.white,\r\n                },\r\n                '& .MuiSlider-valueLabel': {\r\n                  backgroundColor: 'transparent',\r\n                  color: theme.palette.primary.main,\r\n                },\r\n              }}\r\n            />\r\n            <Typography variant=\"body2\" align=\"center\" color=\"primary\" sx={{ mt: 2 }}>\r\n              Overall Rating: {overallRating} based on {numberOfAnalysts} opinions\r\n            </Typography>\r\n          </>\r\n        ) : (\r\n          <Typography variant=\"body2\" align=\"center\" sx={{ mt: 2 }}>\r\n            No analyst ratings available.\r\n          </Typography>\r\n        )}\r\n      </Box>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default AnalystOverallRating;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}