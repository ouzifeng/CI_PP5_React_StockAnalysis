"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[486],{6486:(e,n,r)=>{r.r(n),r.d(n,{default:()=>_});var i=r(2791),t=r(5527),l=r(697),s=r(890),a=r(9281),c=r(9836),o=r(6890),d=r(5855),h=r(3994),x=r(7047),u=r(3382),j=r(4070),m=r(1889),Z=r(4294),f=r(9657),w=r(1025),g=r.n(w),p=r(1224),y=r(1087),v=r(184);const _=e=>{let{cashFlows:n}=e;const[r,w]=(0,i.useState)("yearly"),[_,b]=(0,i.useState)([]),[C,k]=(0,i.useState)(!1),{isAuthenticated:F}=(0,i.useContext)(p.V);if((0,i.useEffect)((()=>{const e=null===n||void 0===n?void 0:n.filter((e=>e.type.toLowerCase()===r));b(e)}),[n,r]),!_||0===_.length)return(0,v.jsxs)(t.Z,{elevation:3,sx:{margin:"auto",overflow:"hidden"},children:[(0,v.jsx)(l.Z,{sx:{bgcolor:"primary.main",p:1},children:(0,v.jsx)(s.Z,{variant:"subtitle1",sx:{color:"common.white",textAlign:"center"},children:"Cash Flow"})}),(0,v.jsx)(a.Z,{children:(0,v.jsxs)(c.Z,{"aria-label":"Cash Flow",size:"small",children:[(0,v.jsx)(o.Z,{children:(0,v.jsx)(d.Z,{children:Array(6).fill(null).map(((e,n)=>(0,v.jsx)(h.Z,{children:(0,v.jsx)(x.Z,{variant:"text",width:100,animation:"wave"})},n)))})}),(0,v.jsx)(u.Z,{children:Array(5).fill(null).map(((e,n)=>(0,v.jsx)(d.Z,{children:Array(6).fill(null).map(((e,n)=>(0,v.jsx)(h.Z,{children:(0,v.jsx)(x.Z,{variant:"text",width:100,animation:"wave"})},n)))},n)))})]})})]});const A=["id","filing_date","currency_symbol","type","general","preferred_stock_and_other_adjustments","discontinued_operations","other_items","non_recurring","extraordinary_items","selling_and_marketing_expenses","minority_interest","effect_of_accounting_charges"],L=Object.keys(_[0]).filter((e=>!A.includes(e)));return(0,v.jsxs)(v.Fragment,{children:[C&&(0,v.jsxs)(j.Z,{severity:"warning",onClose:()=>k(!1),children:["Please ",(0,v.jsx)(y.rU,{to:"/login",children:"login"})," to download the cash flows."]}),(0,v.jsxs)(m.ZP,{container:!0,spacing:1,children:[(0,v.jsx)(m.ZP,{item:!0,children:(0,v.jsx)(Z.Z,{variant:"yearly"===r?"contained":"outlined",onClick:()=>w("yearly"),sx:{margin:1},children:"Yearly"})}),(0,v.jsx)(m.ZP,{item:!0,children:(0,v.jsx)(Z.Z,{variant:"quarterly"===r?"contained":"outlined",onClick:()=>w("quarterly"),sx:{margin:1},children:"Quarterly"})}),(0,v.jsx)(m.ZP,{item:!0,children:(0,v.jsx)(Z.Z,{variant:"outlined",onClick:()=>{if(F){if(_.length>0){const e=g().unparse(_),n=new Blob([e],{type:"text/csv"}),r=window.URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download="cash_flows.csv",i.click(),window.URL.revokeObjectURL(r)}}else k(!0)},sx:{margin:1},startIcon:(0,v.jsx)(f.Z,{}),children:"Download CSV"})})]}),(0,v.jsxs)(t.Z,{elevation:3,sx:{margin:"auto",overflow:"hidden"},children:[(0,v.jsx)(l.Z,{sx:{bgcolor:"primary.main",p:1},children:(0,v.jsx)(s.Z,{variant:"subtitle1",sx:{color:"common.white",textAlign:"center"},children:"Cash Flow"})}),(0,v.jsx)(a.Z,{children:(0,v.jsxs)(c.Z,{"aria-label":"Cash Flow",size:"small",children:[(0,v.jsx)(o.Z,{children:(0,v.jsx)(d.Z,{children:L.map(((e,n)=>(0,v.jsx)(h.Z,{sx:{fontWeight:"bold"},className:"MuiTableCell-sizeSmall",children:e.replace(/_/g," ").toUpperCase()},n)))})}),(0,v.jsx)(u.Z,{children:_.map(((e,n)=>(0,v.jsx)(d.Z,{children:L.map((r=>((e,n,r)=>{if(A.includes(n))return null;if("date"===n)return(0,v.jsx)(h.Z,{children:r},"".concat(e,"-").concat(n));const i="number"===typeof r?r:parseFloat(r),t=isNaN(i)?r:i.toLocaleString();return(0,v.jsx)(h.Z,{children:t},"".concat(e,"-").concat(n))})(n,r,e[r])))},"row-".concat(n))))})]})})]})]})}}}]);
//# sourceMappingURL=486.67f122eb.chunk.js.map