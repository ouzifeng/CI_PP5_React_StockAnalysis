{"version":3,"file":"static/js/685.6eb01499.chunk.js","mappings":"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","sources":["components/stockpage/MyNotes.js","../node_modules/@mui/icons-material/Add.js","../node_modules/@mui/icons-material/Close.js","../node_modules/@mui/icons-material/Delete.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Drawer,\r\n  Button,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  TextField,\r\n  IconButton,\r\n  Typography,\r\n  CircularProgress,\r\n  Box,\r\n} from '@mui/material';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\n\r\nconst MyNotesDrawer = ({ open, onClose, stockId, stockData }) => {\r\n  const [notes, setNotes] = useState([]);\r\n  const [noteText, setNoteText] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (open && stockId) {\r\n      const formattedStockId = stockId.replace('-', '.');\r\n      \r\n      setIsLoading(true);\r\n      fetch(`https://django-stocks-ecbc6bc5e208.herokuapp.com/api/notes/?stock=${formattedStockId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': `Token 13502af70a55d1fcddf7c094e4418c65904ef6eb`, // Replace with the actual user's authentication token\r\n        },\r\n      })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          setNotes(data);\r\n          setIsLoading(false);\r\n        })\r\n        .catch(error => {\r\n          console.error('Error fetching notes:', error);\r\n          setIsLoading(false);\r\n        });\r\n    }\r\n  }, [open, stockId]);\r\n\r\n  const addNote = () => {\r\n    if (noteText.trim() !== '') {\r\n      // Ensure stockData and stockData.id are available\r\n      if (!stockData || !stockData.id) {\r\n        console.error('Stock data or stock ID is missing');\r\n        return;\r\n      }\r\n\r\n      const newNote = {\r\n        stock: stockData.id, // Use the stock's ID from stockData\r\n        content: noteText,\r\n      };\r\n\r\n      setIsLoading(true);\r\n      fetch('https://django-stocks-ecbc6bc5e208.herokuapp.com/api/notes/', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Token 13502af70a55d1fcddf7c094e4418c65904ef6eb`, // Replace with your token\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(newNote),\r\n      })\r\n        .then(response => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          } else {\r\n            response.json().then(data => console.error('Error adding note:', data));\r\n            throw new Error('Failed to add note');\r\n          }\r\n        })\r\n        .then(data => {\r\n          setNotes([...notes, data]);\r\n          setNoteText('');\r\n          setIsLoading(false);\r\n        })\r\n        .catch(error => {\r\n          console.error('Error adding note:', error);\r\n          setIsLoading(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  const deleteNote = (noteId) => {\r\n    setIsLoading(true);\r\n    fetch(`https://django-stocks-ecbc6bc5e208.herokuapp.com/api/notes/${noteId}/`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Authorization': `Token 13502af70a55d1fcddf7c094e4418c65904ef6eb`, // Replace with your token\r\n      },\r\n    })\r\n      .then(response => {\r\n        if (response.ok) {\r\n          setNotes(notes.filter(note => note.id !== noteId));\r\n          setIsLoading(false);\r\n        } else {\r\n          response.json().then(data => console.error('Error deleting note:', data));\r\n          throw new Error('Failed to delete note');\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error('Error deleting note:', error);\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Drawer anchor=\"right\" open={open} onClose={onClose}>\r\n      <div style={{ width: 350, padding: 16 }}>\r\n        <IconButton onClick={onClose} style={{ position: 'absolute', right: 8, top: 8 }}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n        <Typography variant=\"h6\" style={{ marginBottom: 16 }}>My Notes</Typography>\r\n        <TextField\r\n          label=\"Add a note\"\r\n          fullWidth\r\n          value={noteText}\r\n          onChange={(e) => setNoteText(e.target.value)}\r\n          variant=\"outlined\"\r\n          style={{ marginBottom: 16 }}\r\n        />\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          startIcon={<AddIcon />}\r\n          onClick={addNote}\r\n          fullWidth\r\n          disabled={isLoading}\r\n        >\r\n          Add Note\r\n        </Button>\r\n        {isLoading && (\r\n          <Box display=\"flex\" justifyContent=\"center\" m={2}>\r\n            <CircularProgress />\r\n          </Box>\r\n        )}\r\n        <List>\r\n          {notes.map((note) => (\r\n            <ListItem key={note.id}>\r\n              <ListItemText\r\n                primary={note.content}\r\n                secondary={new Date(note.created_at).toLocaleDateString()}\r\n              />\r\n              <IconButton edge=\"end\" onClick={() => deleteNote(note.id)}>\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </div>\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nexport default MyNotesDrawer;\r\n","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z\"\n}), 'Add');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z\"\n}), 'Delete');"],"names":["_ref","open","onClose","stockId","stockData","notes","setNotes","useState","noteText","setNoteText","isLoading","setIsLoading","useEffect","formattedStockId","replace","fetch","concat","method","headers","then","response","json","data","catch","error","console","_jsx","Drawer","anchor","children","_jsxs","style","width","padding","IconButton","onClick","position","right","top","CloseIcon","Typography","variant","marginBottom","TextField","label","fullWidth","value","onChange","e","target","Button","color","startIcon","AddIcon","addNote","trim","id","newNote","stock","content","body","JSON","stringify","ok","Error","disabled","Box","display","justifyContent","m","CircularProgress","List","map","note","ListItem","ListItemText","primary","secondary","Date","created_at","toLocaleDateString","edge","deleteNote","noteId","filter","DeleteIcon","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","default","jsx","d"],"sourceRoot":""}